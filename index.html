<html>
  <head>
    <meta charset="utf-8" />
    <title>My Personal Finance</title>
    <link rel="icon" href="./public/money-bag.png" type="image/x-icon" />
  </head>
  <script>
    function roundValues(value) {
      return Math.round(value * 100) / 100;
    }

    function calculateFee(salary) {
      return roundValues(salary * 0.1);
    }

    function calculateIncome(salary) {
      return roundValues(salary * 0.005);
    }

    function calculateBalance(bankPosting) {
      balance = bankPosting.reduce((accumulator, currentValue) => {
        if (currentValue.type === "expense") {
          return accumulator - currentValue.value;
        }
        if (currentValue.type === "income") {
          return accumulator + currentValue.value;
        }
      }, 0);

      isBallanceNegative = balance < 0;
      if (isBallanceNegative) {
        fees = calculateFee(balance);
        balance = balance + fees;
      }
      if (!isBallanceNegative) {
        income = calculateIncome(balance);
        balance = balance + income;
      }
      return roundValues(balance);
    }

    januaryBankPosting = [
      { category: "Salary", type: "income", value: 3000 },
      { category: "Rent", type: "expense", value: 1000 },
      { category: "Light bill", type: "expense", value: 200 },
      { category: "Water bill", type: "expense", value: 100 },
      { category: "Internet", type: "expense", value: 100 },
      { category: "Trnasport", type: "expense", value: 300 },
      { category: "Food", type: "expense", value: 500 },
      { category: "Fun", type: "expense", value: 300 }
    ];
    totalJanuary = calculateBalance(januaryBankPosting);

    console.log(totalJanuary);

    februaryBankPosting = [
      { category: "Bank", type: "income", value: totalJanuary },
      { category: "Salary", type: "income", value: 3000 },
      { category: "Rent", type: "expense", value: 1200 },
      { category: "Ligth bill", type: "expense", value: 250 },
      { category: "Water bill", type: "expense", value: 100 },
      { category: "Internet", type: "expense", value: 100 },
      { category: "Fun", type: "expense", value: 500 },
      { category: "Food", type: "expense", value: 1000 }
    ];

    totalFebruary = calculateBalance(februaryBankPosting);

    console.log(totalFebruary);
  </script>
  <body>
    <h1>Hello World Html</h1>
  </body>
</html>
